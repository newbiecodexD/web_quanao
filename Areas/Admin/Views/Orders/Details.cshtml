@model web_quanao.Models.Order
@using System.Collections.Generic
@using web_quanao.Models
@{
    ViewBag.Title = "Chi ti?t ??n hàng";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    var items = (IEnumerable<OrderItem>)ViewBag.Items;
}
<h5>Order #@Model.OrderId</h5>
<dl class="row">
    <dt class="col-sm-2">UserId</dt><dd class="col-sm-10">@Model.UserId</dd>
    <dt class="col-sm-2">Total</dt><dd class="col-sm-10">@Model.TotalAmount</dd>
    <dt class="col-sm-2">Status</dt><dd class="col-sm-10">@Model.Status</dd>
    <dt class="col-sm-2">Created</dt><dd class="col-sm-10">@Model.CreatedAt</dd>
</dl>
<h6>Items</h6>
<table class="table table-sm">
    <thead><tr><th>Product</th><th>Size</th><th>Qty</th><th>Price</th></tr></thead>
    <tbody>
    @foreach (var it in items){
        <tr>
            <td>@it.Product?.Name</td>
            <td>@it.Size?.SizeName</td>
            <td>@it.Quantity</td>
            <td>@it.Price</td>
        </tr>
    }
    </tbody>
</table>
@using (Html.BeginForm("UpdateStatus","Orders",FormMethod.Post)){
    @Html.AntiForgeryToken()
    @Html.Hidden("id", Model.OrderId)
    <div class="input-group" style="max-width:360px;">
        <select name="status" class="form-select">
            <option @(Model.Status=="Pending"?"selected":null)>Pending</option>
            <option @(Model.Status=="Paid"?"selected":null)>Paid</option>
            <option @(Model.Status=="Shipping"?"selected":null)>Shipping</option>
            <option @(Model.Status=="Completed"?"selected":null)>Completed</option>
            <option @(Model.Status=="Canceled"?"selected":null)>Canceled</option>
        </select>
        <button class="btn btn-primary" type="submit">C?p nh?t tr?ng thái</button>
    </div>
}
<p class="mt-3"><a class="btn btn-secondary" href="@Url.Action("Index")">Quay l?i</a></p>
