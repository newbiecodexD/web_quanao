@model IEnumerable<web_quanao.Models.ProductViewModel>
<style>
/* Tăng nhẹ chiều cao thẻ sản phẩm */
.product-card-inner{display:flex;flex-direction:column;height:400px;overflow:hidden;}
.product-card-inner .card-img-top{height:180px;object-fit:cover;border-top-left-radius:.5rem;border-top-right-radius:.5rem;}
.product-card-inner .card-body{overflow:hidden;}
.product-card-inner .card-body .card-text.small{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;}
.product-card-inner .card-footer{margin-top:auto;}
</style>
<div class="row">
@if (Model != null && Model.Any()){
    foreach (var product in Model){
        var img = string.IsNullOrWhiteSpace(product.ImageUrl) ? Url.Content("~/Content/Images/noimage.png") : Url.Content(product.ImageUrl);
        <div class="col-sm-6 col-lg-4 mb-4 product-card" data-price="@product.Price" data-gender="@(product.Gender ?? "Any")" data-id="@product.Id">
            <div class="card h-100 product-card-inner">
                <a href="@Url.Action("Details", "Product", new { id = product.Id })">
                    <img src="@img" class="card-img-top product-image" alt="@product.Name">
                </a>
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">
                        <a href="@Url.Action("Details", "Product", new { id = product.Id })" class="text-dark text-decoration-none">@product.Name</a>
                    </h5>
                    <p class="card-text small text-muted">@product.Description</p>
                    <p class="card-text fw-bold mt-auto">@product.Price.ToString("N0")đ</p>
                </div>
                <div class="card-footer bg-white border-0 text-center pb-3">
                    <button type="button" class="btn btn-dark w-100 add-to-cart" data-productid="@product.Id" data-name="@product.Name" data-price="@product.Price">Thêm vào giỏ hàng</button>
                </div>
            </div>
        </div>
    }
}else{
    <div class="col-12"><p>Không có sản phẩm nào để hiển thị.</p></div>
}
</div>
